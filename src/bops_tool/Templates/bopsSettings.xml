<?xml version="1.0" encoding="utf-8"?>
<bops>
   <osimVersion>4.4</osimVersion>
   <current>
      <subject>s001</subject>
      <session>GenericModel</session>
      <analysis>torsionTool</analysis>
      <rerun>[true]</rerun>
   </current>
   <subjects>
      <item>s001</item>
   </subjects>
   <sessions>
      <item>GenericModel</item>
   </sessions>
   <analysis_mode>
      <analyses>batch</analyses>
      <plot>batch</plot>
   </analysis_mode>
   <ProcessingSteps>
      <Visual3DtoMotoNMS>[false]</Visual3DtoMotoNMS>
      <SetupIK>[false]</SetupIK>
      <setupAnalysis>[false]</setupAnalysis>
      <selectSubjects>[false]</selectSubjects>
      <selectSession>[true]</selectSession>
      <BatchAnalysis>[false]</BatchAnalysis>
      <PlotResults>[false]</PlotResults>
   </ProcessingSteps>
   <analyses>
      <c3d2mat>[false]</c3d2mat>
      <acquisition>[false]</acquisition>
      <elaboration>[false]</elaboration>
      <scale>[false]</scale>
      <torsionTool>[true]</torsionTool>
      <ik>[false]</ik>
      <id>[false]</id>
      <rra>[true]</rra>
      <id_postrra>[false]</id_postrra>
      <lucaoptimizer>[false]</lucaoptimizer>
      <handsfield>[false]</handsfield>
      <ma>[false]</ma>
      <cmc>[false]</cmc>
      <ceinms>[false]</ceinms>
      <so>[false]</so>
      <jra>[false]</jra>
   </analyses>
   <analyses_settings>
      <models>
         <OSIM_LinearScaled></OSIM_LinearScaled>
         <OSIM_RRA></OSIM_RRA>
         <OSIM_LO></OSIM_LO>
         <OSIM_LO_HANS></OSIM_LO_HANS>
         <OSIM_LO_HANS_originalMass></OSIM_LO_HANS_originalMass>
      </models>
      <torsionTool><!--in degrees (original value: femurAnteversion = 17.6 original value; femurNeck_shaft = 123.3), leg: R = right; L = left-->
         <inputModel>Ref_scaled_opt_N10_2times2392Fmax</inputModel>
         <tibialTorsion>[-30 -15 0 15 30]</tibialTorsion>
         <femurAnteversion/>
         <femurNeck_shaft/>
         <leg>R,L</leg>
      </torsionTool>
      <ik>
         <model>OSIM_LinearScaled</model>
         <accuracy>1e-06</accuracy>
      </ik>
      <id>
         <model>OSIM_LinearScaled</model>
      </id>
      <lucaoptimizer>
         <model>OSIM_LinearScaled</model>
         <target_model>OSIM_RRA</target_model>
         <N_eval>10</N_eval>
      </lucaoptimizer>
      <ma>
         <model>OSIM_LinearScaled</model>
      </ma>
      <ceinms>
         <model>OSIM_RRA_PerTrial</model>
         <emDelay>0.015</emDelay>
         <strengthCoefficient>1</strengthCoefficient>
         <contactModelFile>1</contactModelFile>
         <dofList_calibration>hip_flexion_r knee_angle_r ankle_angle_r</dofList_calibration>
         <dofList>hip_flexion_r hip_adduction_r hip_rotation_r knee_angle_r ankle_angle_r</dofList>
      </ceinms>
      <so>
         <plotCoordinates/>
      </so>
      <cmc>
         <model>OSIM_LinearScaled</model>
         <desired_kinematics_file>ik</desired_kinematics_file>
         <ErrorTolerance>1e-05</ErrorTolerance>
         <step_interval>1</step_interval>
         <cmc_time_window>0.001</cmc_time_window>
      </cmc>
      <jra>
         <joint_names>all</joint_names>
      </jra>
   </analyses_settings>
   <plot_analysis>
      <summary_per_trial>[true]</summary_per_trial>
      <summary>[true]</summary>
      <ik>[false]</ik>
      <id>[true]</id>
      <rra>[false]</rra>
      <id_postrra>[false]</id_postrra>
      <lucaoptimizer>[false]</lucaoptimizer>
      <handsfield>[false]</handsfield>
      <ma>[false]</ma>
      <ceinms>[false]</ceinms>
      <so>[true]</so>
      <jra>[false]</jra>
   </plot_analysis>
   <plot_variables>
      <ik/>
      <id/>
      <rra/>
      <id_postrra/>
      <lucaoptimizer/>
      <handsfield/>
      <ma/>
      <ceinms/>
      <so/>
      <jra/>
   </plot_variables>
   <dataStructure>
      <suffix>CPFMH</suffix>
      <OSIMModelName>gait2392_CAST_CP</OSIMModelName>
      <c3dFileStructure>year_month_day_subject_condition_task_number</c3dFileStructure>
      <staticPerCondition>[true]</staticPerCondition>
      <spliteSessions>condition</spliteSessions>
      <conditions>BAREFOOT ORTHO 2ORTHO</conditions>
      <tasks>GAIT</tasks>
   </dataStructure>
   <Laboratory>
      <APdirection>X</APdirection>
      <Vdirection>Z</Vdirection>
      <MLdirecrion>Y</MLdirecrion>
      <FP>
         <ID>1</ID>
         <PadTickness>14</PadTickness>
         <rotationToGlobal>
            <X>180</X>
            <Z>-90</Z>
         </rotationToGlobal>
      </FP>
      <FP>
         <ID>2</ID>
         <PadTickness>14</PadTickness>
         <rotationToGlobal>
            <X>180</X>
            <Z>-180</Z>
         </rotationToGlobal>
      </FP>
      <FP>
         <ID>3</ID>
         <PadTickness>14</PadTickness>
         <rotationToGlobal>
            <X>180</X>
            <Z>-180</Z>
         </rotationToGlobal>
      </FP>
   </Laboratory>
   <emg>
      <Muscle>
         <item>LGLTMED</item>
         <item>LRF</item>
         <item>LADDLONG</item>
         <item>LBF</item>
         <item>LTA</item>
         <item>LGM</item>
         <item>RGLTMED</item>
         <item>RRF</item>
         <item>RADDLONG</item>
         <item>RBF</item>
         <item>RTA</item>
         <item>RGM</item>
      </Muscle>
      <MuscleLabels>
         <item>LGLTMED</item>
         <item>LRF</item>
         <item>LADDLONG</item>
         <item>LBF</item>
         <item>LTA</item>
         <item>LGM</item>
         <item>RGLTMED</item>
         <item>RRF</item>
         <item>RADDLONG</item>
         <item>RBF</item>
         <item>RTA</item>
         <item>RGM</item>
      </MuscleLabels>
      <offset>0.2</offset>
   </emg>
   <Trials>
      <Dynamic>GAIT</Dynamic>
      <MaxEMG>GAIT</MaxEMG>
      <Static>STATIC</Static>
      <trial>
         <Type>STATIC</Type>
         <MotionDirection>90left</MotionDirection>
      </trial>
      <trial>
         <Type>GAIT</Type>
         <MotionDirection>auto</MotionDirection>
      </trial>
   </Trials>
   <filters>
      <Markers>10</Markers>
      <EMGbp>[50 450]</EMGbp>
      <EMGlp>6</EMGlp>
      <grf>10</grf>
   </filters>
   <xmlPref>
      <StructItem>[false]</StructItem>
      <CellItem>[false]</CellItem>
   </xmlPref>
   <directories>
      <bops>C:\Code\Git\MSKmodelling\src\bops_tool</bops>
	  <osimMatlab>C:\OpenSim 4.4\Resources\Code\Matlab\Utilities</osimMatlab>
      <mainData>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations</mainData>
      <setupbopsXML>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\bopsSettings.xml</setupbopsXML>
      <subjectInfoCSV>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\subjectinfo.csv</subjectInfoCSV>
      <eventsCSV>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\events.csv</eventsCSV>
      <modelsCSV>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\Models.csv</modelsCSV>
      <masterProcessing>C:\Code\Git\MSKmodelling</masterProcessing>
      <CEINMSexe>C:\Code\Git\MSKmodelling\src\Ceinms\CEINMS_2</CEINMSexe>
      <InputData>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\InputData</InputData>
      <ElaboratedData>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\ElaboratedData</ElaboratedData>
      <Results>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\Results</Results>
      <templatesDir>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates</templatesDir>
      <templates>
         <acquisitionXML>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\acquisition.xml</acquisitionXML>
         <elaborationXML>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\elaboration.xml</elaborationXML>
         <Model>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\gait2392_CAST_CP.osim</Model>
         <ScaleTool>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\ScaleTool.xml</ScaleTool>
         <Static>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\static.xml</Static>
         <IKSetup>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\IK_setup.xml</IKSetup>
         <IDSetup>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\ID_setup.xml</IDSetup>
         <GRF>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\ID_externalForces_RL.xml</GRF>
         <RRASetup>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\RRA_setup.xml</RRASetup>
         <RRAActuators>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\RRA_actuators.xml</RRAActuators>
         <RRATaks>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\RRA_tasks.xml</RRATaks>
         <RRASetup_actuation_analyze>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\RRA_setup_actuation_analyze.xml</RRASetup_actuation_analyze>
         <MASetup>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\MA_setup.xml</MASetup>
         <SOSetup>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\SO_setup.xml</SOSetup>
         <SOActuators>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\SO_actuators.xml</SOActuators>
         <CMCSetup>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CMC_setup.xml</CMCSetup>
         <CMCControls>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CMC_ControlConstraints.xml</CMCControls>
         <CMCtasks>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CMC_tasks.xml</CMCtasks>
         <CMCactuators>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CMC_actuators.xml</CMCactuators>
         <CEINMSuncalibratedmodel>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CEINMS_uncalibrated_RL.xml</CEINMSuncalibratedmodel>
         <CEINMScalibrationCfg>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CEINMS_calibrationCfg_RL.xml</CEINMScalibrationCfg>
         <CEINMScalibrationCfg_HJCF>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CEINMS_calibrationCfg_RL_HJCF.xml</CEINMScalibrationCfg_HJCF>
         <CEINMSexcitationGenerator>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CEINMS_excitationGenerator.xml</CEINMSexcitationGenerator>
         <CEINMSexecutionSetup>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CEINMS_executionSetup.xml</CEINMSexecutionSetup>
         <CEINMSexecutionCfg>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CEINMS_executionCfg.xml</CEINMSexecutionCfg>
         <CEINMScontactmodel>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\CEINMS_contactOpenSimModel.xml</CEINMScontactmodel>
         <JRAsetup>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\JCF_setup.xml</JRAsetup>
         <IAASetup>C:\Users\Biomech\Documents\1-UVienna\Tibial_Tosion2022\BasSimulations\templates\IAA_setup.xml</IAASetup>
      </templates>
   </directories>
</bops>
